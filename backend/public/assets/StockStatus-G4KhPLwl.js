import{_ as I,a as g}from"./UiParentCard.vue_vue_type_script_setup_true_lang-DnD-5gIF.js";import{B as $}from"./main-Dfa23GB-.js";import{O as s,_ as z,$ as C,P,q as Y,o as F,a as l,d as n,w as t,V as p,b as d,a0 as _,a3 as y,a4 as u,f as A,e as M,A as N,a1 as L,F as q}from"./index-CGGVM91c.js";import{_ as Q}from"./NewModal-RG6-e5WE.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"radioDiv"},j={class:"radioDiv"},G={__name:"StockStatus",setup(H){const w=L,f=s(null),V=s(""),T=s([]),b=s([]),x=[{field:"자재코드",headerName:"자재코드",flex:1},{field:"자재명",headerName:"자재명",flex:1},{field:"자재유형",headerName:"자재유형",flex:1},{field:"규격",headerName:"규격",flex:1},{field:"단위",headerName:"단위",flex:1}],E=s([]),h=async o=>{V.value=o,b.value=x;try{const e=await C.get("http://localhost:3000/materials");T.value=e.data.map(a=>({자재코드:a.MAT_CODE,자재명:a.MAT_NAME,자재유형:a.MAT_TYPE,규격:a.MAT_SIZE,단위:a.MAT_UNIT})),f.value&&f.value.open()}catch(e){console.error("자재 목록을 가져오는 중 오류가 발생했습니다:"+e),alert("자재 목록을 불러오는 데 실패했습니다.")}};function k(o){o&&(r.value=o.자재명,i.value=o.자재코드)}const S=s([{field:"LOT번호",flex:2},{field:"자재명",flex:1},{field:"자재코드",flex:1},{field:"자재유형",flex:1},{field:"규격",flex:1},{field:"단위",flex:1},{field:"수량",flex:1.5},{field:"일자",flex:1.5},{field:"상태",flex:1,cellStyle:o=>o.value==="입고"?{color:"green",fontWeight:"bold"}:o.value==="출고"?{color:"red",fontWeight:"bold"}:null}]),D=s([]);z(async()=>{try{const o=await C.get("http://localhost:3000/stockStatus");D.value=o.data.map(e=>({LOT번호:e.LOT_NO,자재명:e.MAT_NAME,자재코드:e.MAT_CODE,자재유형:e.MAT_TYPE,규격:e.MAT_SIZE,단위:e.MAT_UNIT,수량:e.QTY,일자:e.DATE?e.DATE.slice(0,10):"",상태:e.TYPE}))}catch(o){console.error("입출고 조회 실패:",o)}});const O=s({title:"입고"}),R=P([{title:"자재",disabled:!0,href:"#"},{title:"입고 조회",disabled:!1,href:"#"}]),r=s(""),i=s(""),m=s(""),v=s(""),c=s("");function U(){r.value="",i.value="",m.value="",v.value="",c.value=""}const B=async()=>{};return(o,e)=>(F(),Y(q,null,[l(I,{title:O.value.title,breadcrumbs:R.value},null,8,["title","breadcrumbs"]),l(g,{title:"입고 검색조건"},{default:t(()=>[l(p,{class:"mb-4"},{default:t(()=>[l(d,{cols:"4"},{default:t(()=>[l(_,{label:"자재명",modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),placeholder:"자재명",dense:"",outlined:"",readonly:""},{"append-inner":t(()=>[n("i",{class:"fa-solid fa-magnifying-glass",style:{cursor:"pointer","font-size":"large","margin-right":"0.5rem"},onClick:e[0]||(e[0]=a=>h("자재 조회",E.value,x))})]),_:1},8,["modelValue"])]),_:1}),l(d,{cols:"4"},{default:t(()=>[l(_,{label:"자재코드",modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),dense:"",outlined:"",readonly:""},null,8,["modelValue"])]),_:1}),l(d,{cols:"4"},{default:t(()=>[n("div",Z,[e[6]||(e[6]=n("span",{class:"mr-2"},"자재유형:",-1)),l(y,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=a=>v.value=a),inline:"","hide-details":""},{default:t(()=>[l(u,{label:"원자재",value:"원자재"}),l(u,{label:"부자재",value:"부자재"}),l(u,{label:"소모품",value:"소모품"}),l(u,{label:"재공품",value:"재공품"})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),l(p,{class:"mb-4"},{default:t(()=>[l(d,{cols:"4"},{default:t(()=>[l(_,{label:"입고일자",modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=a=>m.value=a),type:"date",dense:"",outlined:""},null,8,["modelValue"])]),_:1}),l(d,{cols:"4"}),l(d,{cols:"4"},{default:t(()=>[n("div",j,[e[7]||(e[7]=n("span",{class:"mr-2"},"상태:",-1)),l(y,{modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=a=>c.value=a),inline:"","hide-details":""},{default:t(()=>[l(u,{label:"입고",value:"입고"}),l(u,{label:"출고",value:"출고"})]),_:1},8,["modelValue"])])]),_:1})]),_:1}),l(p,{justify:"center"},{default:t(()=>[l(A,{color:"error",class:"mr-2",onClick:U},{default:t(()=>e[8]||(e[8]=[M("초기화")])),_:1}),l(A,{color:"darkText",onClick:B},{default:t(()=>e[9]||(e[9]=[M("검색")])),_:1})]),_:1})]),_:1}),e[10]||(e[10]=n("div",{class:"div"},null,-1)),l(g,{title:"입고 목록"},{default:t(()=>[l(N($),{rowData:D.value,columnDefs:S.value,theme:N(w),style:{height:"17rem",width:"100%"},pagination:!0,"pagination-page-size":4,onCellValueChanged:o.onCellValueChanged},null,8,["rowData","columnDefs","theme","onCellValueChanged"]),l(Q,{ref_key:"modalRef",ref:f,title:V.value,rowData:T.value,colDefs:b.value,onConfirm:k},null,8,["title","rowData","colDefs"])]),_:1})],64))}},ae=W(G,[["__scopeId","data-v-1e1df238"]]);export{ae as default};
