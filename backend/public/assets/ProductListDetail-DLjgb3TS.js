import{aU as v,aV as x,y as z,O as s,P as _,_ as S,a_ as D,q as T,o as q,a as r,w as o,d as u,V as C,b as F,f as V,e as A,A as d,a1 as P,F as M,$ as O}from"./index-CGGVM91c.js";import{B as m}from"./main-Dfa23GB-.js";import{_ as B,a as L}from"./UiParentCard.vue_vue_type_script_setup_true_lang-DnD-5gIF.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={__name:"ProductListDetail",setup(I){v.registerModules([x]);const f=P,a=D(),c=z(()=>({title:`${n.value[0].prdName||""} 검사성적서`})),b=_([{title:"품질",disabled:!0,href:"#"},{title:"원자재검수조회",disabled:!1,href:"#"}]);function h(t){const e=t.newValue;if(e===""||e===null||e===void 0)return null;const l=Number(e);return Number.isFinite(l)?l:t.oldValue}const y=s([{headerName:"검사번호",field:"certId",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1},{headerName:"제품코드",field:"prdCode",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1},{headerName:"제품명",field:"prdName",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1},{headerName:"제품유형",field:"prdType",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1},{headerName:"총수량",field:"totalQty",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1,valueParser:h},{headerName:"작성자",field:"writer",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1},{headerName:"검사완료일자",field:"finishedAt",flex:1,resizable:!0,suppressSizeToFit:!0,editable:!1}]),n=s([{certId:"(자동생성)",prdCode:"(자동입력)",prdName:"(자동입력)",prdType:"(자동입력)",totalQty:"(세션사용자)",writer:"(자동입력)",finishedAt:"(현재 yyyyMMdd)"}]),g=s([{headerName:"검사명",field:"name",flex:1.2},{headerName:"허용수치",field:"allowed",flex:1.4},{headerName:"수치값",field:"value",flex:1}]),i=s([]),w=async()=>{try{const e=await O.get("http://localhost:3000/prdqstd");e.data&&e.data.length>0?i.value=e.data.map(l=>({name:l.STD_NAME,allowed:l.ALLOWED_VALUE})):i.value=[]}catch(t){console.error("데이터 조회 중 오류:",t),i.value=[]}};S(()=>{const t=n.value[0];t.certId=String(a.query.certId||""),t.prdCode=String(a.query.prdCode||""),t.prdName=String(a.query.prdName||""),t.prdType=String(a.query.prdType||""),t.totalQty=Number(a.query.totalQty||0),t.writer=String(a.query.writer),t.finishedAt=String(a.query.finishedAt||""),console.log("받아온 라우터 쿼리 데이터:",a.query),console.log("설정된 상세 데이터:",t),w()});const p=s({defaultColDef:{resizable:!0,sortable:!0},paginationAutoPageSize:!0}),N=()=>window.print();return(t,e)=>(q(),T(M,null,[r(B,{title:c.value.title,breadcrumbs:b.value},null,8,["title","breadcrumbs"]),r(L,null,{default:o(()=>[r(C,{cols:"auto"},{default:o(()=>[r(F,null,{default:o(()=>[r(V,{color:"warning",class:"btn-pdf",onClick:N},{default:o(()=>e[0]||(e[0]=[A("PDF출력")])),_:1})]),_:1})]),_:1}),e[1]||(e[1]=u("br",null,null,-1)),r(d(m),{rowData:n.value,columnDefs:y.value,gridOptions:p.value,theme:d(f),style:{height:"160px",width:"100%"}},null,8,["rowData","columnDefs","gridOptions","theme"]),e[2]||(e[2]=u("br",null,null,-1)),e[3]||(e[3]=u("div",{class:"section-title"},[u("h3",null,"합격품 성적서")],-1)),r(d(m),{rowData:i.value,columnDefs:g.value,gridOptions:p.value,theme:d(f),style:{height:"260px",width:"100%"}},null,8,["rowData","columnDefs","gridOptions","theme"])]),_:1})],64))}},W=Q(R,[["__scopeId","data-v-8906bc4f"]]);export{W as default};
