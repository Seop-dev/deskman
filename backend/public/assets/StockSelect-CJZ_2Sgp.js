import{_,a as N}from"./UiParentCard.vue_vue_type_script_setup_true_lang-DnD-5gIF.js";import{B as v}from"./main-Dfa23GB-.js";import{O as n,a5 as w,P as D,q as h,o as g,a as t,d as M,w as s,aF as r,e as d,aG as x,A as i,a1 as A,F as V,$ as y}from"./index-CGGVM91c.js";import{_ as C}from"./NewModal-RG6-e5WE.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={__name:"StockSelect",setup(B){const c=A,m=n(0),u=n([]),p=[{field:"자재명",headerName:"자재명",flex:1},{field:"자재코드",headerName:"자재코드",flex:1},{field:"규격",headerName:"규격",flex:1},{field:"단위",headerName:"단위",flex:.7},{field:"자재설명",headerName:"자재설명",flex:1.2},{field:"수량",headerName:"수량",flex:.8,cellClass:"ag-right-aligned-cell",valueFormatter:a=>a.value==null?"":Number(a.value).toLocaleString("ko-KR")}];w(m,async a=>{const f=["원자재","부자재","소모품","재공품"][a];try{const o=await y.get("http://localhost:3000/stockSelect",{params:{matType:f}});console.log(o.data),u.value=o.data.map(l=>({자재명:l.MAT_NAME,자재코드:l.MAT_CODE,규격:l.MAT_SIZE,단위:l.MAT_UNIT,자재설명:l.MAT_NOTE,수량:l.MAT_QTY??0}))}catch(o){console.error("재고 목록을 가져오는 중 오류 발생:"+o),alert("재고 목록을 불러오는 데 실패했습니다.")}},{immediate:!0});const b=n({title:"재고 "}),T=D([{title:"자재",disabled:!0,href:"#"},{title:"재고 조회",disabled:!1,href:"#"}]);return(a,e)=>(g(),h(V,null,[t(_,{title:b.value.title,breadcrumbs:T.value},null,8,["title","breadcrumbs"]),e[5]||(e[5]=M("div",{class:"div"},null,-1)),t(x,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=f=>m.value=f),class:"custom-tabs"},{default:s(()=>[t(r,{class:"tab"},{default:s(()=>e[1]||(e[1]=[d("원자재")])),_:1}),t(r,{class:"tab"},{default:s(()=>e[2]||(e[2]=[d("부자재")])),_:1}),t(r,{class:"tab"},{default:s(()=>e[3]||(e[3]=[d("소모품")])),_:1}),t(r,{class:"tab"},{default:s(()=>e[4]||(e[4]=[d("재공품")])),_:1})]),_:1},8,["modelValue"]),t(N,{title:"재고 목록"},{default:s(()=>[t(i(v),{class:"ag-theme-quartz",rowData:u.value,columnDefs:p,theme:i(c),style:{height:"35rem",width:"100%"}},null,8,["rowData","theme"]),t(C,{ref:"modalRef",title:a.modalTitle,rowData:a.modalRowData,colDefs:a.modalColDefs,onConfirm:a.onModalConfirm},null,8,["title","rowData","colDefs","onConfirm"])]),_:1})],64))}},z=S(k,[["__scopeId","data-v-69e33f1b"]]);export{z as default};
